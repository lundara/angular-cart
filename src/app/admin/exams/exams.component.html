<div class="dashboard-main-wrapper">
    <app-admin-navbar></app-admin-navbar>
    <app-admin-sidebar></app-admin-sidebar>

    <div class="dashboard-wrapper">

      <!--CONTENT-->
      <div class="container-fluid dashboard-content">
          <!-- ============================================================== -->
          <!-- pageheader -->

          <!-- ============================================================== -->
          <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                  <div class="page-header">
                      <h2 class="pageheader-title">Data Ujian Siswa</h2>


                  </div>
              </div>
          </div>
          <!-- ============================================================== -->
          <!-- end pageheader -->
          <!-- ============================================================== -->

          <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                  <div class="card" style="min-height:533px">
                      <div class="card-body">
                            <div class="row">
                              <div class="col-md-12">
                                <div class=" float-right pb-4">
                                    <div class="btn-group" role="group" aria-label="Action">
                                        <button type="button" class="btn btn-brand btn-md" data-toggle="tooltip" data-placement="top" title="Refresh" (click) = "allData()">
                                            <i class="fas fa-sync-alt"></i>
                                        </button>
                                        <button type="button" class="btn btn-brand btn-md" data-toggle="tooltip" data-placement="top" title="Export PDF">
                                            <i class="fas fa-file-pdf"></i>
                                        </button>
                                        <button type="button" class="btn btn-brand btn-md" data-toggle="tooltip" data-placement="top" title="Export Excel">
                                            <i class="fas fa-file-excel"></i>
                                        </button>
                                        <button type="button" class="btn btn-brand btn-md" title="Add Data">
                                            <i class="fa fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                              </div>
                              <div class="col-md-12">
                                <p-table #tt [value]="exams" [paginator]="true" [rows]="5" [first]="first" sortField="student" [responsive]="true">
                                    <ng-template pTemplate="header">
                                      <tr>
                                        <th width="5%">NO</th>
                                        <th width="10%">No. Ujian</th>
                                        <th width="15%">Tanggal Ujian</th>
                                        <th>Nama Siswa</th>
                                        <th width="10%">Nilai</th>
                                        <th width="20%">Status</th>
                                        <th width="20%">Action</th>
                                      </tr>
                                      <tr>
                                        <th></th>
                                        <th [ngSwitch]="'id'">
                                          <input *ngSwitchCase="'id'" class="form-control form-control-sm" pInputText type="text" (input)="tt.filter($event.target.value, 'id', 'contains')">
                                        </th>
                                        <th></th>
                                        <th [ngSwitch]="'student'">
                                          <input *ngSwitchCase="'student'" class="form-control form-control-sm" pInputText type="text" (input)="tt.filter($event.target.value, 'student', 'contains')">
                                        </th>
                                        <th></th>
                                        <th [ngSwitch]="'status'">
                                            <p-dropdown *ngSwitchCase="'status'" [options]="examStatus" [style]="{'width':'100%'}" (onChange)="tt.filter($event.value, 'status', 'equals')"></p-dropdown>
                                        </th>
                                        <th></th>

                                      </tr>
                                    </ng-template>
                                    <ng-template pTemplate="body" let-exam let-rowIndex="rowIndex">
                                      <tr>
                                        <td class="text-center">{{rowIndex + 1}}</td>
                                        <td class="text-center">{{exam.id}}</td>
                                        <td class="text-center">{{exam.exam_date | date:'dd LLLL yyyy':'in'}}</td>
                                        <td>{{exam.student}}</td>
                                        <td class="text-center text-white" [ngClass]="{'red-score': exam.score < 75, 'bg-success': exam.score >= 75 }" >
                                          {{exam.score}}
                                        </td>
                                        <td class="text-center" >{{exam.status}}</td>
                                        <td class="text-center">
                                          <div class='dropdown '>
                                              <button type='button' class='btn btn-brand btn-sm dropdown-toggle' data-toggle='dropdown'>
                                                  <i class='fa fa-bars'></i>
                                              </button>
                                              <div class='dropdown-menu'>
                                                  <a class='dropdown-item' href='javascript:void(0);'>
                                                      <i class='fa fa-edit'></i> Edit
                                                  </a>
                                                  <a class='dropdown-item' href='javascript:void(0);'>
                                                      <i class='fa fa-trash'></i> Delete
                                                  </a>
                                              </div>
                                          </div>
                                        </td>
                                      </tr>
                                    </ng-template>
                                </p-table>
                              </div>

                            </div>
                      </div>
                  </div>
              </div>
          </div>

      </div>
    </div>
</div>
